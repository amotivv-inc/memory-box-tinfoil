shim-version: v0.3.9@sha256:a45eb01f8e5fa3162b804821d53d8e8667a75940a9c1995f29265347efca8009
cvm-version: 0.5.23
cpus: 2
memory: 8192

containers:
  - name: "memory-box"
    image: ""
    args:
      - "-e"
      - "OPENROUTER_API_KEY=$(sed -n 's/^OPENROUTER_API_KEY: *//p' /mnt/ramdisk/external-config.yml)"
      - "-e"
      - "TURBOPUFFER_API_KEY=$(sed -n 's/^TURBOPUFFER_API_KEY: *//p' /mnt/ramdisk/external-config.yml)"
      - "-e"
      - "API_KEY=$(sed -n 's/^API_KEY: *//p' /mnt/ramdisk/external-config.yml)"
      - "ghcr.io/amotivv-inc/memory-box-go:latest@sha256:fabddf10fdbdebab3a1353f4cfb4b9aee7ceaeadfdddc62f80d9ae6c64bdf9b1"
      - "--port"
      - "8080"

# Shim configuration (adjust upstream-port and paths to match your container)
shim:
  listen-port: 443
  upstream-port: 8080
  paths:
    - /health
